<?php
    include_once 'isbntest.class.php';
    $currISBN = new ISBNtest;

	 ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html lang='en'> 
<head> 
<meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1'> 
<META name="description" content=""> 
<meta name="keywords" content=""> 
<title>ISBN Checker</title> 
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!-- Font-Awesome -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head> 
<body> 
<div class="container">
	<div class="row">
			<h1>ISBN Checker</h1>
	</div>
	<div class="row well">
		<div class="col-md-6">
			<form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post"> 
			<fieldset> 
			<legend>Add ISBNs in a seperate line</legend> 
			<textarea name="test" rows="10" class="form-control" style="min-width: 100%" placeholder="Enter ISBNs..."></textarea><br> 
			<button type="submit" class="btn btn-success"><i class="fa fa-check-square-o" aria-hidden="true"></i> Check</button>
			</fieldset> 
			</form> 
		</div>
		<div class="col-md-6">
			<?php 
			if(count($_POST)) 
			{ 
			   echo "<h1>Results:</h1>\n"; 
			   $array = preg_split('/(\r?\n)+/', $_POST['test']); 
			   $invalids="";
			   foreach($array as $line) 
			   { 
					  /*
				 *    did we get an ISBN?
				 */
					$currISBN->set_isbn($line);
					if (strlen($line)==10){ //10 char number
						if ($currISBN->valid_isbn10() === TRUE) { // ISBN 10 is valid
						} 
						else { // ISBN 10 is not valid			
							/*if ($currISBN->valid_isbn13() === TRUE) { //ISBN 10 not valid, 13 is valid
								$invalids.=$currISBN->get_isbn10()." should be	".$currISBN->get_isbn13()."<br>";
							}
							else{ */
							$invalids.=$currISBN->get_isbn10()."<br>";
							}
					}

					else{ //13 char number
						if ($currISBN->valid_isbn13() === TRUE) { // ISBN 13 is valid
						} 
						else { // ISBN 13 is not valid
							/*if ($currISBN->valid_isbn10() === TRUE) { //ISBN 13 not valid, 10 is valid
								$invalids.=$currISBN->get_isbn13()." should be	".$currISBN->get_isbn10()."<br>";
							}
							else{*/
							$invalids.=$currISBN->get_isbn13()."<br>";
							}
						}
					
			   } 
			   
			   if(!preg_match('#[0-9]#',$invalids)){
				echo "<p style='color:Green;'>";
				echo "No invalid ISBNs found";
				echo "</p>";
			   }
			   else{
				echo "<p style='color:red;'>";
				echo "Invalid ISBNs:<br>";
				echo $invalids;
				echo "</p>";
			   }

		} 
			?> 
		</div>
	</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82085782-1', 'auto');
  ga('send', 'pageview');

</script>
</body> 
</html>

<!--
Example:
0738424250
9780470769850
9780470877371
9780470908198
9780470908235
9780470948668
9781118001134
9781118068021
9781118100608
9781118146545
9781118004531
9781119962595
9786612529061
9781118018378
9780132603508
978013260356X
9781587058769
9780132599320
9780470917183
9780555041246
9780555043394
1880410400
9781933820255
9780071487573
9780132929271
9780137051731
9780321635396
9780470521021
9780470710661
9780470915301
9780521760959
9780521493451
9780521571838
9780521861533
9780521780780
069108968X
9780691142609
9780691143958
9780691058870
9780691130743
9780691049557
9780691118222
9780691134932
9780691126777
9780470472309
9780672331039
9780789739759
9780789739940
9780789742872
9781118647936
9781593272678
9781576754870
1933820004
1933820470
9781933820026
9781933820217
9781933820774
0131411543
0131840304
0132225514
0132349795
013254248X
0132564718
0132659913
013265993X
0132659948
0132659956
0132659972
0132659999
0132660008
0132684519
0132692244
013269493X
0132694948
0132694956
0132694980
0132695081
0132695111
0132695340
0132858363
0136566952
0137033117
0137045794
0137081073
0137081308
0137081332
0137081855
013708188X
0137151446
0201615924
0201707195
0201708531
0321502639
0321532899
0321603788
0321618521
0321620704
0321636406
0321679210
0321700910
0321711920
0321711939
0321712943
0321718380
0321741285
0321743121
032174957X
0321784154
032184260X
0321885147
0465022014
047065175X
0471782661
0596002475
0596003129
0596007620
059615593X
0596518773
0631233156
0636920000945
0636920001027
0636920001829
069105858X
069108940X
0691114323
069111899X
0691119538
0691120161
0691123691
0691124604
0735612714
0735614229
0735617724
0735618356
0735618372
0735618399
0735618402
0735620407
0735620520
0735621403
0735663815
0735670838
0735672431
0787953598
0787987735
0789740478
0789741199
0789743973
0789749246
0789751933
0821249949000
0821249949000
0872455678
1118085035
1118157702
1118206150
1118368711
144931208X
1449342256
1449342493
1449344216
1449344852
1565924797
1572318058
1576753700
1587201615
1592532578
1592534163
1605669873
1848212275
1849517053
1904819041
1933820144
2884790667
2884790705
2940373086
9077256024
9761617290329
9780071438308
9780071760485
9780071787932
9780080878485
9780080889795
9780080920993
9780080921945
9780080922553
9780080928043
9780080952130
9780080954110
9780080958569
9780080958958
9780120588305
9780123852069
9780131103627
9780131367265
9780131367364
9780131380943
9780131382268
9780131382275
9780131385313
9780131385566
9780131385665
9780131385696
9780131387683
9780131387706
9780131387713
9780131387720
9780131387737
9780131388222
9780131388239
9780131388697
9780131480056
9780131482036
9780131482128
9780131494183
9780131582316
9780131583344
9780131875647
9780132089616
9780132089623
9780132089647
9780132091510
9780132100809
9780132100816
9780132100823
9780132100830
9780132100847
9780132100854
9780132100861
9780132100878
9780132100885
9780132100908
9780132100915
9780132100922
9780132100939
9780132100946
9780132100953
9780132100960
9780132100984
9780132100991
9780132101004
9780132101011
9780132101035
9780132101042
9780132101196
9780132101202
9780132101301
9780132101356
9780132101943
9780132101950
9780132101974
9780132101981
9780132101998
9780132102001
9780132102018
9780132102025
9780132102032
9780132102056
9780132102063
9780132102070
9780132102087
9780132102094
9780132102100
9780132102117
9780132102131
9780132102148
9780132102155
9780132102162
9780132102179
9780132102186
9780132102193
9780132102216
9780132102223
9780132102230
9780132116701
9780132117135
9780132119085
9780132119092
9780132119191
9780132119214
9780132119559
9780132119900
9780132121361
9780132126953
9780132151009
9780132151429
9780132152136
9780132160636
9780132161558
9780132161565
9780132161572
9780132167734
9780132167734
9780132168144
9780132168175
9780132172592
9780132172608
9780132173018
9780132173025
9780132173032
9780132173049
9780132173056
9780132173063
9780132173087
9780132173094
9780132173100
9780132173117
9780132173124
9780132173131
9780132173148
9780132173162
9780132173179
9780132173186
9780132173193
9780132173209
9780132173216
9780132173230
9780132173254
9780132173377
9780132173384
9780132173391
9780132173414
9780132173421
9780132173438
9780132173445
9780132173452
9780132173469
9780132173476
9780132173483
9780132173490
9780132173506
9780132174763
9780132180245
9780132180269
9780132311830
9780132311854
9780132312462
9780132337953
9780132346603
9780132357791
9780132358101
9780132360289
9780132371506
9780132371513
9780132371520
9780132371537
9780132371544
9780132371551
9780132371568
9780132371605
9780132371612
9780132371629
9780132371636
9780132371643
9780132371667
9780132371674
9780132371698
9780132371707
9780132371711
9780132371723
9780132371742
9780132371759
9780132371766
9780132371773
9780132371780
9780132371827
9780132371834
9780132371926
9780132371933
9780132371940
9780132371957
9780132371964
9780132371971
9780132371988
9780132372008
9780132377928
9780132378748
9780132388474
9780132400206
9780132410694
9780132415989
9780132417112
9780132417549
9780132422857
9780132423618
9780132423724
9780132426336
9780132434133
9780132459198
9780132478571
9780132478588
9780132478601
9780132478618
9780132478625
9780132478632
9780132478649
9780132478656
9780132478663
9780132478687
9780132478694
9780132478700
9780132478717
9780132480529
9780132480758
9780132480765
9780132480772
9780132480789
9780132480796
9780132480802
9780132480819
9780132485074
9780132486101
9780132486118
9780132486125
9780132486132
9780132486149
9780132486156
9780132486163
9780132486170
9780132486194
9780132486224
9780132486316
9780132486644
9780132487061
9780132488020
9780132488334
9780132488341
9780132488358
9780132488365
9780132488372
9780132488389
9780132488396
9780132488419
9780132489416
9780132489621
9780132489669
9780132489751
9780132489775
9780132489782
9780132489799
9780132489812
9780132489829
9780132489836
9780132489843
9780132489850
9780132489904
9780132492584
9780132492591
9780132498166
9780132498180
9780132498197
9780132498203
9780132498210
9780132498289
9780132540483
9780132540490
9780132540667
9780132541022
9780132541046
9780132541053
9780132541121
9780132541138
9780132542272
9780132542296
9780132542302
9780132542494
9780132542500
9780132543583
9780132543668
9780132543675
9780132543934
9780132543941
9780132543958
9780132543965
9780132565288
9780132566414
9780132566421
9780132566438
9780132566452
9780132566575
9780132575409
9780132575669
9780132582209
9780132582308
9780132582322
9780132594714
9780132594776
9780132594783
9780132594790
9780132595162
9780132595179
9780132595193
9780132595209
9780132595216
9780132595926
9780132595988
9780132596008
9780132596015
9780132596022
9780132596039
9780132596619
9780132596626
9780132596824
9780132597081
9780132599313
9780132599337
9780132599344
9780132599351
9780132599375
9780132599399
9780132599405
9780132599412
9780132599429
9780132599436
9780132599450
9780132599566
9780132599689
9780132599696
9780132599849
9780132602679
9780132603539
9780132612098
9780132612692
9780132612708
9780132612715
9780132612739
9780132612746
9780132615198
9780132615396
9780132615402
9780132615594
9780132615808
9780132616041
9780132616072
9780132616102
9780132616256
9780132617031
9780132617055
9780132617062
9780132617079
9780132617086
9780132617093
9780132617116
9780132617543
9780132617567
9780132618120
9780132618205
9780132618267
9780132618311
9780132618939
9780132618960
9780132618991
9780132619035
9780132619073
9780132619622
9780132619653
9780132620192
9780132620345
9780132639644
9780132654876
9780132655316
9780132655668
9780132655682
9780132655736
9780132656757
9780132657723
9780132657730
9780132657815
9780132657846


-->
